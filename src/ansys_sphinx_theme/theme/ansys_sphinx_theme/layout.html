{%- extends "pydata_sphinx_theme/layout.html" -%}
{# Append our custom CSS after the bootstrap stylesheet so we can override where necessary #}
{%- block css %}
    {{ super() }}
    {% if theme_show_breadcrumbs %}
    <link href="{{ pathto('_static/css/breadcrumbs.css', 1) }}" rel="stylesheet" />
    {% endif %}
{%- endblock %}
{%- block content %}
    {{ super() }}
<script>
document.addEventListener('DOMContentLoaded', () => {
  const searchButton = document.getElementById('searchButton');
  const searchContainer = document.getElementById('searchContainer');
  const resultsContainer = document.getElementById('results');

  searchButton.addEventListener('click', () => {
    if (searchContainer.style.display === 'none') {
      // Expand the search container
      searchContainer.style.display = 'flex';
      searchButton.classList.add('expanded');
      searchContainer.classList.add('expanded');
      searchContainer.querySelector('input[name="q"]').focus(); // Focus the input field
    } else {
      // Collapse the search container
      searchContainer.style.display = 'none';
      searchButton.classList.remove('expanded');
      searchContainer.classList.remove('expanded');
      resultsContainer.style.display = 'none'; // Hide results when collapsing
    }
  });
});

</script>
{%- endblock %}
{% block docs_navbar %}
    {{ super() }}
    {% if theme_switcher %}
        {% include 'components/announcement_version.html' %}
    {% endif%}
{% endblock %}
